<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BFS | Safety Stand-Down</title>

<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  margin:0;
  background:#f4f6f8;
  color:#1F2A44;
}
header{
  background:#C8102E;
  color:#fff;
  padding:14px;
  text-align:center;
}
.drive{
  background:#1F2A44;
  color:#fff;
  text-align:center;
  padding:6px;
  font-size:13px;
  letter-spacing:1px;
}
.raleigh{
  background:#C8102E;
  color:#fff;
  text-align:center;
  padding:6px;
  font-size:12px;
  font-weight:600;
}
.container{
  max-width:900px;
  margin:auto;
  padding:20px;
}
.section{
  background:#fff;
  border:2px solid #C8102E;
  border-radius:10px;
  padding:18px;
  margin-bottom:20px;
}
.section-title{
  font-size:18px;
  font-weight:700;
  margin-bottom:10px;
  color:#C8102E;
}
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
}
label{
  font-weight:600;
  display:block;
  margin-top:10px;
}
input, select, textarea{
  width:100%;
  padding:10px;
  margin-top:5px;
  border-radius:6px;
  border:1px solid #ccc;
}
ul{
  margin-top:8px;
}
button{
  width:100%;
  padding:14px;
  background:#C8102E;
  color:#fff;
  font-weight:700;
  border:none;
  border-radius:8px;
  margin-top:20px;
}
canvas{
  width:100%;
  height:120px;          /* Desktop height */
  border:2px solid #C8102E;
  border-radius:8px;
  margin-top:10px;
  touch-action:none;
}

/* Smaller on phones */
@media (max-width:600px){
  canvas{
    height:90px;
  }
}

</style>
</head>

<body>

<header>
  <h1>Builders FirstSource</h1>
  <div>Safety Stand-Down</div>
</header>

<div class="drive">DRIVE TO ZERO</div>
<div class="raleigh">RALEIGH INSTALL SERVICES</div>

<div class="container" id="pdfContent">

<!-- PROJECT INFO -->
<div class="section">
  <div class="section-title">Project Information</div>
  <div class="grid">

    <div>
      <label>Date</label>
      <input type="date">
    </div>
    <div>
      <label>BFS Representative</label>
      <input type="text">
    </div>

    <div>
      <label>Customer</label>
      <input type="text">
    </div>
    <div>
      <label>Building</label>
      <input type="text">
    </div>

    <div>
      <label>Project / Jobsite</label>
      <input type="text" id="jobsite">
    </div>
    <div>
      <label>Project Type</label>
      <select>
        <option value="">Select Type</option>
        <option>Framing</option>
        <option>Windows / Doors</option>
        <option>Trim</option>
        <option>Deck</option>
        <option>Other</option>
      </select>
    </div>

    <div>
      <label>Lot</label>
      <input type="text">
    </div>
    <div>
      <label># Workers Onsite</label>
      <input type="number">
    </div>

    <div>
      <label>Project Subcontractor</label>
      <input type="text">
    </div>
    <div>
      <label>Onsite Supervisor (Subcontractor)</label>
      <input type="text">
    </div>

  </div>
</div>

<!-- DETAILED SAFETY SUMMARY -->
<div class="section">
  <div class="section-title">Detailed Safety Summary</div>

  <label>Safety Topics Discussed</label>
  <textarea rows="4"></textarea>

  <label style="margin-top:15px;">Corrective Actions Needed</label>
  <textarea rows="4"></textarea>
</div>

<!-- SAFETY VIOLATION BREAKDOWN -->
<div class="section">
  <div class="section-title">Safety Violation Breakdown</div>
  <ul>
    <li><strong>Hardhat – Glasses – Boots:</strong> $50–$100 per person</li>
    <li><strong>Ladder Violation:</strong> $100–$250 per person</li>
    <li><strong>Safety Rails:</strong> $100–$250 per person</li>
    <li><strong>Crane Safety Violation:</strong> $100–$500 per offense</li>
    <li><strong>Drugs or Alcohol:</strong> $500 – Termination</li>
  </ul>
</div>

<!-- SCAFFOLDING POLICY -->
<div class="section">
  <div class="section-title">Scaffolding Policy</div>

  <ul>
    <li>Site-built scaffolding is NOT allowed on BFS jobsites.</li>
    <li>Only steel, site-assembled scaffolding is permitted.</li>
  </ul>

  <h4 style="margin-top:15px;">Not Allowed</h4>
  <ul>
    <li>Wood-framed or jobsite-built scaffold systems</li>
    <li>Improvised platform setups</li>
  </ul>

  <h4 style="margin-top:15px;">Allowed</h4>
  <ul>
    <li>Steel baker-style scaffold systems</li>
    <li>Manufacturer-assembled rolling scaffolds</li>
  </ul>

  <p style="margin-top:20px; font-weight:600; text-align:center;">
    Outperform Today. Transform Tomorrow.
  </p>
</div>

<!-- SEVERE WEATHER -->
<div class="section">
  <div class="section-title">Severe Weather</div>
  <p>
  Framing crews must properly brace wall panels and trusses.
  Installation during severe weather is discouraged.
  If materials fall or are damaged, this is considered an automatic rebuild.
  </p>
</div>

<!-- COLD WEATHER -->
<div class="section">
  <div class="section-title">Cold Weather</div>
  <p>Propane heaters and burn piles are prohibited.</p>
</div>

<!-- MATERIAL HANDLING -->
<div class="section">
  <div class="section-title">Material Handling</div>
  <ul>
    <li>Do NOT move material without BFS approval.</li>
    <li>Unauthorized transfer may be treated as theft.</li>
    <li>Do not install damaged material.</li>
  </ul>
</div>

<!-- WORKING HOURS -->
<div class="section">
  <div class="section-title">Working Hours</div>
  <ul>
    <li>No framing before 7:00 AM or after 7:00 PM (Mon–Fri)</li>
    <li>No framing before 9:00 AM Saturday</li>
    <li><strong>No work Sundays</strong></li>
  </ul>
</div>

<!-- FOUNDATIONS SUMMARY -->
<div class="section">
  <div class="section-title">Foundations</div>

  <p>
    If you have any issues with the concrete slabs or foundations, you must immediately:
  </p>

  <ol>
    <li>Notify the builder or your project manager.</li>
    <li>Document the issue — ideally with written notification including a photo.</li>
    <li>
      Determine a solution: adjust stud heights, have the mason correct the foundation,
      or stop work until an approved solution is agreed upon.
    </li>
  </ol>

  <p style="margin-top:15px;">
    <strong>
    The framer will be paid for framing adjustments required due to concrete or foundation
    issues if the project manager is notified before continuing framing.
    </strong>
  </p>

  <p style="margin-top:10px;">
    <strong>
    If a framer continues progress without notifying the project manager,
    the framer will be responsible for all costs to repair framing inconsistencies
    caused by foundation errors.
    </strong>
  </p>

  <p style="margin-top:20px; font-weight:600; text-align:center;">
    Outperform Today. Transform Tomorrow.
  </p>
</div>

  <!-- SUBCONTRACTOR SAFETY REQUIREMENTS -->
<div class="section">
  <div class="section-title">Subcontractor Safety Requirements</div>

  <p>
    The Subcontractor is required to perform all work under the Master Agreement
    in accordance with the Builders FirstSource Safety Management Program.
  </p>

  <h4 style="margin-top:20px;">A. General</h4>
  <ul>
    <li>Builders FirstSource is committed to promoting a safe work environment for employees, customers, subcontractor employees, representatives, and visitors.</li>
    <li>The term “employee” includes subcontractors, suppliers, and all personnel present at a Builders FirstSource project site.</li>
    <li>Safety and health of every individual on a BFS jobsite is critical.</li>
    <li>All individuals are responsible for observing safe work practices and avoiding at-risk behavior.</li>
    <li>Compliance with all BFS safety policies and procedures is mandatory.</li>
    <li>The Subcontractor is 100% responsible for the safety of its employees and suppliers.</li>
  </ul>

  <h4 style="margin-top:20px;">B. Roles & Responsibilities</h4>
  <ul>
    <li>Subcontractors must designate a “Competent Person” as required by OSHA.</li>
    <li>The Competent Person must have authority to take corrective action.</li>
    <li>All subcontractor employees are responsible for their own safety compliance.</li>
    <li>Unsafe conditions must be corrected immediately.</li>
  </ul>

  <h4 style="margin-top:20px;">C. Written Safety Plans</h4>
  <ul>
    <li>Subcontractors must maintain a written Safety & Health Plan or IIPP when required.</li>
    <li>Plans must include hazard identification and mitigation procedures.</li>
    <li>Fall Protection Plans are required for work at heights of 6 feet or more.</li>
    <li>Emergency response procedures must be documented.</li>
  </ul>

  <h4 style="margin-top:20px;">D. Training</h4>
  <ul>
    <li>The subcontractor is responsible for providing all required safety training.</li>
    <li>Employees must be trained on equipment, fall protection, PPE, and hazard recognition.</li>
    <li>BFS may require additional or specialized training as a condition of work.</li>
  </ul>

  <h4 style="margin-top:20px;">E. Compliance & Enforcement</h4>
  <ul>
    <li>Failure to comply may result in removal from the project.</li>
    <li>Violations may lead to probation, suspension, or termination of contract.</li>
    <li>OSHA citations involving subcontractors are the subcontractor’s responsibility.</li>
  </ul>

  <h4 style="margin-top:20px;">F. Incident Reporting Procedures</h4>
  <ul>
    <li>Injured employees must receive medical attention immediately when required.</li>
    <li>BFS Management must be notified immediately by phone.</li>
    <li>An incident report must be submitted within 24 hours.</li></ul>

<!-- ATTENDEE SIGNED INITIALS -->
<div class="section">
  <div class="section-title">Stand-Down Attendee Signed Initials</div>
  <p>Please have each attendee initial below (up to 10 participants).</p>

  <div class="initial-grid">
    <!-- 10 Pads -->
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(0)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(1)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(2)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(3)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(4)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(5)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(6)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(7)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(8)">Clear</button></div>
    <div class="initial-box"><canvas class="initialPad"></canvas><button type="button" onclick="clearInitial(9)">Clear</button></div>
  </div>
</div>
  <script>
function enableSignature(canvasId) {

  const ctx = canvas.getContext("2d");

  function resizeCanvas() {
}

window.addEventListener("load", function(){
  enableSignature("bfsSignaturePad");
  enableSignature("subSignaturePad");
});
</script>
<div class="section">
  <div class="section-title">BFS Representative Signature</div>
  <canvas id="bfsSignaturePad"></canvas>
  <button onclick="clearCanvas('bfsSignaturePad')">Clear Signature</button>
</div>

<!-- SUBCONTRACTOR REPRESENTATIVE SIGNATURE -->
<div class="section">
  <div class="section-title">Subcontractor Representative Signature</div>
  <canvas id="subSignaturePad"></canvas>
  <button onclick="clearCanvas('subSignaturePad')">Clear Signature</button>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
document.getElementById("savePdfBtn").addEventListener("click", async () => {

  const { jsPDF } = window.jspdf;

  const btn = document.getElementById("savePdfBtn");
  btn.style.display = "none"; // Hide button from PDF

  const element = document.querySelector(".container");

  const canvas = await html2canvas(element, {
    scale: 1,
    useCORS: true,
    logging: false
  });

  btn.style.display = "block";

  const imgData = canvas.toDataURL("image/jpeg", 0.8);

  const pdf = new jsPDF("p", "pt", "a4");
  const pageWidth = pdf.internal.pageSize.getWidth();
  const pageHeight = pdf.internal.pageSize.getHeight();

  const imgWidth = pageWidth;
  const imgHeight = (canvas.height * imgWidth) / canvas.width;

  let heightLeft = imgHeight;
  let position = 0;
  let pageNumber = 1;

  while (heightLeft > 0) {

    pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight, undefined, "FAST");

    pdf.setFontSize(10);
    pdf.text(`Page ${pageNumber}`, pageWidth - 50, pageHeight - 10);

    heightLeft -= pageHeight;
    position -= pageHeight;
    pageNumber++;

    if (heightLeft > 0) {
      pdf.addPage();
    }
  }

  pdf.save("BFS_Safety_Stand_Down.pdf");
});
</script>

</script>
    const ratio = window.devicePixelRatio || 1;
    canvas.width = canvas.offsetWidth * ratio;
    canvas.height = 80 * ratio;
    canvas.getContext("2d").scale(ratio, ratio);
  }
  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);
<script>
function enableInitialPads() {

  const pads = document.querySelectorAll(".initialPad");

  pads.forEach((canvas, index) => {

    const ctx = canvas.getContext("2d");

    function resizeCanvas() {
      const ratio = window.devicePixelRatio || 1;
      const width = canvas.offsetWidth;
      const height = canvas.offsetHeight;

      canvas.width = width * ratio;
      canvas.height = height * ratio;

      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(ratio, ratio);

      ctx.lineWidth = 2;
      ctx.lineCap = "round";
      ctx.strokeStyle = "#000";
    }

    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    let drawing = false;

    function getPos(e) {
      const rect = canvas.getBoundingClientRect();
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const clientY = e.touches ? e.touches[0].clientY : e.clientY;

      return {
        x: clientX - rect.left,
        y: clientY - rect.top
      };
    }

    function start(e) {
      drawing = true;
      const pos = getPos(e);
      ctx.beginPath();
      ctx.moveTo(pos.x, pos.y);
    }

    function draw(e) {
      if (!drawing) return;
      e.preventDefault();
      const pos = getPos(e);
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
    }

    function stop() {
      drawing = false;
    }
    canvas.addEventListener("mousedown", start);
    canvas.addEventListener("mousemove", draw);
    canvas.addEventListener("mouseup", stop);
    canvas.addEventListener("mouseleave", stop);

    canvas.addEventListener("touchstart", start, { passive:false });
    canvas.addEventListener("touchmove", draw, { passive:false });
    canvas.addEventListener("touchend", stop);
  });
}

function clearInitial(index){
  const pads = document.querySelectorAll(".initialPad");
  const canvas = pads[index];
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0,0,canvas.width,canvas.height);
}

window.addEventListener("load", function(){
  enableInitialPads();
});
</script>

  let drawing = false;

  canvas.addEventListener("mousedown", ()=> drawing = true);
  canvas.addEventListener("mouseup", ()=> drawing = false);
  canvas.addEventListener("mouseleave", ()=> drawing = false);

  canvas.addEventListener("mousemove", (e)=>{
    if(!drawing) return;
    const rect = canvas.getBoundingClientRect();
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#000";
    ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
  });

  // Touch Support
  canvas.addEventListener("touchstart", ()=> drawing = true);
  canvas.addEventListener("touchend", ()=> drawing = false);
  canvas.addEventListener("touchmove", (e)=>{
    e.preventDefault();
    if(!drawing) return;
    const rect = canvas.getBoundingClientRect();
    const touch = e.touches[0];
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#000";
    ctx.lineTo(touch.clientX - rect.left, touch.clientY - rect.top);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(touch.clientX - rect.left, touch.clientY - rect.top);
  });
});

function clearInitial(index){
  const canvas = initialPads[index];
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0,0,canvas.width,canvas.height);
  </script>
}
</script>
<!-- PHOTO UPLOAD SECTION -->
<div class="section">
  <div class="section-title">Jobsite Photos</div>

  <input type="file" id="photoUpload" accept="image/*" multiple>
  <p style="font-size:12px;color:#666;">Upload photos from your gallery (multiple allowed)</p>

  <div id="photoPreview"></div>
</div>
<script>
let compressedImages = [];

document.getElementById('photoUpload').addEventListener('change', function(event){
  const preview = document.getElementById('photoPreview');
  preview.innerHTML = '';
  compressedImages = [];

  Array.from(event.target.files).forEach(file=>{
    const reader = new FileReader();
    reader.onload = function(e){
      const img = new Image();
      img.src = e.target.result;

      img.onload = function(){
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        const MAX_WIDTH = 1000;
        const scale = MAX_WIDTH / img.width;

        canvas.width = MAX_WIDTH;
        canvas.height = img.height * scale;

        ctx.drawImage(img,0,0,canvas.width,canvas.height);

        const compressed = canvas.toDataURL("image/jpeg",0.6);
        compressedImages.push(compressed);

        const previewImg = document.createElement('img');
        previewImg.src = compressed;
        previewImg.style.width='100%';
        previewImg.style.marginTop='10px';
        preview.appendChild(previewImg);
      };
    };
    reader.readAsDataURL(file);
  });
});
</script>
  const canvas = document.getElementById(canvasId);
  const ctx = canvas.getContext("2d");

  function resizeCanvas() {
    const ratio = window.devicePixelRatio || 1;

    const width = canvas.offsetWidth;
    const height = canvas.offsetHeight;

    canvas.width = width * ratio;
    canvas.height = height * ratio;

    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.scale(ratio, ratio);

    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#000";
  }

  resizeCanvas();
  window.addEventListener("resize", resizeCanvas);

  let drawing = false;

  function getPosition(e) {
    const rect = canvas.getBoundingClientRect();
    const clientX = e.clientX || e.touches[0].clientX;
    const clientY = e.clientY || e.touches[0].clientY;
    return {
      x: clientX - rect.left,
      y: clientY - rect.top
    };
  }

  function startDraw(e) {
    drawing = true;
    const pos = getPosition(e);
    ctx.beginPath();
    ctx.moveTo(pos.x, pos.y);
  }

  function draw(e) {
    if (!drawing) return;
    e.preventDefault();
    const pos = getPosition(e);
    ctx.lineTo(pos.x, pos.y);
    ctx.stroke();
  }

  function stopDraw() {
    drawing = false;
  }

  canvas.addEventListener("mousedown", startDraw);
  canvas.addEventListener("mousemove", draw);
  canvas.addEventListener("mouseup", stopDraw);
  canvas.addEventListener("mouseleave", stopDraw);

  canvas.addEventListener("touchstart", startDraw);
  canvas.addEventListener("touchmove", draw);
  canvas.addEventListener("touchend", stopDraw);
}

function clearCanvas(id){
  const canvas = document.getElementById(id);
  const ctx = canvas.getContext("2d");
  ctx.clearRect(0,0,canvas.width,canvas.height);
}
</script>
    </body>

<!-- BFS REPRESENTATIVE SIGNATURE -->
<div class="section">
</div> <!-- CLOSES .container -->

<button id="savePdfBtn">
  Save Safety Stand Down (PDF)
</button>

<script>
window.addEventListener("load", function(){

  document.getElementById("savePdfBtn").addEventListener("click", async () => {

    const { jsPDF } = window.jspdf;
    const element = document.querySelector(".container");

    // Higher scale = sharper + prevents text cut off
    const canvas = await html2canvas(element, {
      scale: 2,
      useCORS: true,
      scrollY: -window.scrollY
    });

    const imgData = canvas.toDataURL("image/jpeg", 1.0);

    const pdf = new jsPDF("p", "mm", "a4");

    const pageWidth = 210; // A4 width in mm
    const pageHeight = 297; // A4 height in mm

    const imgWidth = pageWidth;
    const imgHeight = (canvas.height * imgWidth) / canvas.width;

    let heightLeft = imgHeight;
    let position = 0;

    pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
    heightLeft -= pageHeight;

    while (heightLeft > 0) {
      position = heightLeft - imgHeight;
      pdf.addPage();
      pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight);
      heightLeft -= pageHeight;
    }

    pdf.save("BFS_Safety_Stand_Down.pdf");

  });

});
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
window.addEventListener("load", function(){

  document.getElementById("savePdfBtn").addEventListener("click", async () => {

    const { jsPDF } = window.jspdf;

    const canvas = await html2canvas(element, {
      scale: 3,                // Higher = sharper
      useCORS: true,
      allowTaint: true,
      backgroundColor: "#ffffff",
      scrollY: -window.scrollY
    });

    const imgData = canvas.toDataURL("image/jpeg", 1.0);

    const pdf = new jsPDF("p", "mm", "a4");

    const pageWidth = 210;
    const pageHeight = 297;

    const imgWidth = pageWidth;
    const imgHeight = (canvas.height * imgWidth) / canvas.width;

    let heightLeft = imgHeight;
    let position = 0;
    let pageNumber = 1;

    // First Page
    pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight, undefined, "FAST");
    addHeader(pdf, pageNumber);
    heightLeft -= pageHeight;

    // Additional Pages
    while (heightLeft > 0) {
      position = heightLeft - imgHeight;
      pdf.addPage();
      pdf.addImage(imgData, "JPEG", 0, position, imgWidth, imgHeight, undefined, "FAST");
      pageNumber++;
      addHeader(pdf, pageNumber);
      heightLeft -= pageHeight;
    }

    pdf.save("BFS_Safety_Stand_Down.pdf");
    
  });

});

function addHeader(pdf, pageNumber) {

  const pageWidth = pdf.internal.pageSize.getWidth();
  const pageHeight = pdf.internal.pageSize.getHeight();

  // Header Background
  pdf.setFillColor(200, 16, 46); // BFS Red
  pdf.rect(0, 0, pageWidth, 12, "F");

  // Header Text
  pdf.setFontSize(10);
  pdf.setTextColor(255,255,255);
  pdf.text("Builders FirstSource | Safety Stand-Down", 10, 8);

  // Page Number
  pdf.setTextColor(0,0,0);
  pdf.setFontSize(9);
  pdf.text("Page " + pageNumber, pageWidth - 25, pageHeight - 8);

}
<script>

</body>
</html>

